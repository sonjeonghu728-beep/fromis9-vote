<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í”„ë¡œë¯¸ìŠ¤ ë‚˜ì¸ ì¸ê¸°íˆ¬í‘œ</title>
<link rel="icon" href="data:," />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4088294207752316"
     crossorigin="anonymous"></script>
<script src="https://cdn.tailwindcss.com"></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc, increment, onSnapshot } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyD3Cg4kCsVXcbZrRetIx-NsiQJAu47qxoA",
  authDomain: "fromis9-e2aeb.firebaseapp.com",
  projectId: "fromis9-e2aeb",
  storageBucket: "fromis9-e2aeb.appspot.com",
  messagingSenderId: "45408653741",
  appId: "1:45408653741:web:16534371a33a8d70241124"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const ADMIN_PASSWORD = "20001000";

const members = [
  { id: "ina", name: "ì´ë‚˜ê²½", img: "https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/%EC%9D%B4%EB%82%98%EA%B2%BD.png.jpg?alt=media&token=1ac591e9-76a6-4c47-9d70-595a13ab4118",
    profile: "ì´ë‚˜ê²½ì€ 1997ë…„ 7ì›” 1ì¼ ì¶œìƒ, í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ë¦¬ë“œë³´ì»¬ & ëŒ„ì„œ, ìƒì§•ìƒ‰ì€ í•‘í¬, MBTI ENFP, ì¢Œìš°ëª…: ì¦ê²ê²Œ ë„ì „í•˜ì" },
  { id: "baek", name: "ë°±ì§€í—Œ", img: "https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/%EB%B0%B1%EC%A7%80%ED%97%8C.png.jpg?alt=media&token=5678e2d1-dd20-4370-8cbd-d2d6572e7397",
    profile: "ë°±ì§€í—Œì€ 1999ë…„ 6ì›” 12ì¼ ì¶œìƒ, í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ì„œë¸Œë³´ì»¬, ìƒì§•ìƒ‰ì€ ê·¸ë¦°, MBTI ISFJ, ì¢Œìš°ëª…: ê¾¸ì¤€íˆ ì„±ì¥í•˜ì" },
  { id: "chae", name: "ì´ì±„ì˜", img: "https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/%EC%9D%B4%EC%B1%84%EC%98%81.png.jpg?alt=media&token=7f3f685a-2fcc-46b2-be8d-655157894db6",
    profile: "ì´ì±„ì˜ì€ 2000ë…„ 1ì›” 5ì¼ ì¶œìƒ, í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ë¦¬ë“œëŒ„ì„œ, ìƒì§•ìƒ‰ì€ í¼í”Œ, MBTI INFJ, ì¢Œìš°ëª…: ëŠì„ì—†ì´ ë„ì „í•˜ì" },
  { id: "park", name: "ë°•ì§€ì›", img: decodeURIComponent("https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/%EB%B0%95%EC%A7%80%EC%9B%90.png.jpg?alt=media&token=e8574ba8-7dbb-409a-9ff8-0864d20a7fd6"),
    profile: "ë°•ì§€ì›ì€ 1998ë…„ 3ì›” 5ì¼ ì¶œìƒ, í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ì„œë¸Œë³´ì»¬ & ëŒ„ì„œ, ìƒì§•ìƒ‰ì€ ë¸”ë£¨, MBTI ENFP, ì¢Œìš°ëª…: í•¨ê»˜ ì„±ì¥í•˜ì" },
  { id: "song", name: "ì†¡í•˜ì˜", img: "https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/%EC%86%A1%ED%95%98%EC%98%81.png.jpg?alt=media&token=fb3c48f2-79c6-4409-9485-b92b4ebf3e14",
    profile: "ì†¡í•˜ì˜ì€ 1997ë…„ 9ì›” 29ì¼ ì¶œìƒ, í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ë©”ì¸ë³´ì»¬ & ë©”ì¸ëŒ„ì„œ, ìƒì§•ìƒ‰ì€ ì˜ë¡œìš°, MBTI INFP, ì¢Œìš°ëª…: ë„ì „ì„ ë‘ë ¤ì›Œí•˜ì§€ ë§ì, ë§ì´ ë°°ìš°ì" }
];

window.addEventListener('DOMContentLoaded', async () => {
  const grid = document.getElementById('memberGrid');

  for (const member of members) {
    const docRef = doc(db, "votes", member.id);

    const docSnap = await getDoc(docRef);
    if (!docSnap.exists()) await setDoc(docRef, { likes: 0, profile: member.profile });

    const div = document.createElement('div');
    div.classList.add(
      'flex','flex-col','justify-between','items-center',
      'bg-white','p-4','rounded-2xl','shadow-md','hover:shadow-xl','transition',
      'w-full','h-full','max-h-[500px]'
    );

    const img = document.createElement('img');
    img.src = member.img;
    img.alt = member.name;
    img.classList.add('rounded-xl','w-40','h-40','object-cover');

    const name = document.createElement('p');
    name.textContent = member.name;
    name.classList.add('mt-3','font-bold','text-lg');

    const profileText = document.createElement('p');
    profileText.classList.add(
      'mt-2','text-gray-500','text-sm','text-center','break-words','whitespace-pre-wrap',
      'overflow-auto','flex-1','w-full'
    );

    const buttonContainer = document.createElement('div');
    buttonContainer.classList.add('mt-3','flex','gap-2','w-full');

    const likeBtn = document.createElement('button');
    likeBtn.classList.add('flex-1','px-4','py-2','bg-pink-400','hover:bg-pink-500','text-white','rounded-full','font-semibold');

    const editBtn = document.createElement('button');
    editBtn.classList.add('flex-1','px-4','py-2','bg-blue-400','hover:bg-blue-500','text-white','rounded-full','font-semibold','text-sm');
    editBtn.textContent = "í”„ë¡œí•„ ìˆ˜ì •";

    onSnapshot(docRef, (docSnap) => {
      if (docSnap.exists()) {
        const data = docSnap.data();
        likeBtn.textContent = `ì¢‹ì•„ìš” ${data.likes}`;
        profileText.textContent = data.profile || member.profile;
      }
    });

    likeBtn.addEventListener('click', async () => await updateDoc(docRef, { likes: increment(1) }));

    editBtn.addEventListener('click', async () => {
      const pw = prompt("ìš´ì˜ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
      if (pw !== ADMIN_PASSWORD) { alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤!"); return; }
      const newProfile = prompt("ìƒˆ í”„ë¡œí•„ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”:", profileText.textContent);
      if (newProfile !== null && newProfile.trim() !== "") await updateDoc(docRef, { profile: newProfile });
    });

    buttonContainer.appendChild(likeBtn);
    buttonContainer.appendChild(editBtn);

    div.appendChild(img);
    div.appendChild(name);
    div.appendChild(profileText);
    div.appendChild(buttonContainer);

    grid.appendChild(div);
  }
});
</script>
</head>

<body class="bg-gradient-to-b from-pink-50 to-white font-sans">
<div class="max-w-7xl mx-auto px-4 py-12">

  <!-- ë¡œê³  -->
  <div class="text-center mb-6">
    <img src="https://firebasestorage.googleapis.com/v0/b/fromis9-e2aeb.firebasestorage.app/o/LOGO.jpg?alt=media&token=4cd30e3d-4140-4409-a0c7-a6833dbdaa2c" alt="í”„ë¡œë¯¸ìŠ¤ë‚˜ì¸ ë¡œê³ " class="mx-auto w-48 h-auto">
  </div>

  <!-- ì•ˆë‚´ë¬¸ -->
  <div class="text-center mb-8">
    <h1 class="text-3xl font-extrabold mb-2">í”„ë¡œë¯¸ìŠ¤ ë‚˜ì¸ ì¸ê¸°íˆ¬í‘œ ğŸ’—</h1>
    <p class="text-gray-700 text-lg mb-1">ì¢‹ì•„í•˜ëŠ” ë©¤ë²„ì—ê²Œ ì•„ë‚Œì—†ì´ íˆ¬í‘œí•´ì£¼ì„¸ìš”!</p>
    <p class="text-gray-500 text-sm">íŒ¬ë“¤ì´ ì§ì ‘ ì°¸ì—¬í•˜ëŠ” ì¸ê¸° íˆ¬í‘œ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. ì‘ì›í•˜ëŠ” ë©¤ë²„ì—ê²Œ ì¢‹ì•„ìš”ë¥¼ ëˆŒëŸ¬ ì‘ì›í•´ë³´ì„¸ìš”!</p>
  </div>

  <!-- ë©¤ë²„ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
  <div id="memberGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-6 justify-items-center"></div>

  <!-- ê´‘ê³  -->
  <div class="w-full text-center mt-6">
    <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-4088294207752316"
      data-ad-slot="YOUR_AD_SLOT_HERE"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>

</div>
</body>
</html>




